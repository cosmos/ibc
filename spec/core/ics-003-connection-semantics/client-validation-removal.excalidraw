{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "type": "rectangle",
      "version": 352,
      "versionNonce": 743366944,
      "index": "a0",
      "isDeleted": false,
      "id": "Yd8PZmyx4ecAoEJeTN0gU",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 360.1384787370346,
      "y": 233.86328125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 393.76953125,
      "height": 222.0703125,
      "seed": 523580704,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "uQ3uhCc3hBNYBzhXURfgS",
          "type": "arrow"
        }
      ],
      "updated": 1721739352893,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 11,
      "versionNonce": 973432032,
      "index": "a1",
      "isDeleted": false,
      "id": "KqdrLNodfeliUlAaYd7U_",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 413,
      "y": 213,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 72.93995666503906,
      "height": 25,
      "seed": 1588722912,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721644188803,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "Chain A",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Chain A",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 590,
      "versionNonce": 752964246,
      "index": "a2",
      "isDeleted": false,
      "id": "39YVRup8859-A1EafFRqL",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1084.42578125,
      "y": 236.17578125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 351.1796875,
      "height": 219.17022717039075,
      "seed": 486520096,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "QN3CYjHvpZvUKeBl7mcVy",
          "type": "arrow"
        },
        {
          "id": "M9Ev5BXiStMWc7AiEqYoG",
          "type": "arrow"
        },
        {
          "id": "uQ3uhCc3hBNYBzhXURfgS",
          "type": "arrow"
        }
      ],
      "updated": 1721750252410,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 215,
      "versionNonce": 58443040,
      "index": "a3",
      "isDeleted": false,
      "id": "ZjCZc39bqWi0_Rg5gNQlI",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1156.171875,
      "y": 212.65625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 74.35995483398438,
      "height": 25,
      "seed": 1671870688,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721651877452,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "Chain B",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Chain B",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 325,
      "versionNonce": 1536376096,
      "index": "a4",
      "isDeleted": false,
      "id": "uCslPrAM4Djw5ExOq0aUN",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 358.88671875,
      "y": 636.76953125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 395.90624999999994,
      "height": 212.75781250000006,
      "seed": 1646592288,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "QN3CYjHvpZvUKeBl7mcVy",
          "type": "arrow"
        },
        {
          "id": "M9Ev5BXiStMWc7AiEqYoG",
          "type": "arrow"
        }
      ],
      "updated": 1721651868077,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 107,
      "versionNonce": 2051606816,
      "index": "a6",
      "isDeleted": false,
      "id": "agwtoJMxeGS7bIuxaD4Bx",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 408.171875,
      "y": 612.390625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 72.699951171875,
      "height": 25,
      "seed": 1462127840,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721651871954,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "Chain C",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Chain C",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 190,
      "versionNonce": 1469958218,
      "index": "a7",
      "isDeleted": false,
      "id": "CG88NZPlfuRalVY8yMxWp",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 385.79709345596996,
      "y": 243.3760499715164,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 280.9679260253906,
      "height": 126.07659386602299,
      "seed": 784427296,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721750238830,
      "link": null,
      "locked": false,
      "fontSize": 20.17225501856368,
      "fontFamily": 1,
      "text": "client-2 -> B\nconn-1 -> {self: client-2,\ncp: client-1, cp_conn: conn-3}\nchan-5 -> {connHops: conn-1, \ncp: chan-4}",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "client-2 -> B\nconn-1 -> {self: client-2,\ncp: client-1, cp_conn: conn-3}\nchan-5 -> {connHops: conn-1, \ncp: chan-4}",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 223,
      "versionNonce": 920780310,
      "index": "a8",
      "isDeleted": false,
      "id": "gR93Hy-MkvblVRqLrG8kZ",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 396.2632724935363,
      "y": 650.4820224935364,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 348.0797119140625,
      "height": 125,
      "seed": 1898438880,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721750263921,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "client-2 -> B\nconn-1 -> {self: client-2, cp: client-1,\ncp_conn: conn-3}\nchan-5 -> {connHops: conn-1,\ncp: chan-4}",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "client-2 -> B\nconn-1 -> {self: client-2, cp: client-1,\ncp_conn: conn-3}\nchan-5 -> {connHops: conn-1,\ncp: chan-4}",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 366,
      "versionNonce": 902610326,
      "index": "a9",
      "isDeleted": false,
      "id": "QQliPNdJCx7vEze58Q8JR",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1137.5972112021814,
      "y": 248.57400344845155,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 277.23980712890625,
      "height": 150,
      "seed": 1979716896,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721750372396,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "client-1 -> C\nconn-3 -> {self: client-1,\ncp: client-2, cp_conn:\nconn-1}\nchan-4 -> {connHops: conn-3,\ncp: chan-4}",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "client-1 -> C\nconn-3 -> {self: client-1,\ncp: client-2, cp_conn:\nconn-1}\nchan-4 -> {connHops: conn-3,\ncp: chan-4}",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 137,
      "versionNonce": 2111260554,
      "index": "aA",
      "isDeleted": false,
      "id": "TKzr0vHyE4XWHulEuVtAT",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1090.48046875,
      "y": 629.6252763560002,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 346.33508017548763,
      "height": 202.90625,
      "seed": 1665508576,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "H3lGRledKiu-WVXy3772m",
          "type": "arrow"
        }
      ],
      "updated": 1721750276225,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 11,
      "versionNonce": 344204576,
      "index": "aB",
      "isDeleted": false,
      "id": "3ZghdMy-mO97wkrk3EEBD",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1170,
      "y": 606,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 75.41995239257812,
      "height": 25,
      "seed": 603720992,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721651737357,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "Chain D",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Chain D",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 243,
      "versionNonce": 1221643850,
      "index": "aC",
      "isDeleted": false,
      "id": "xvF8I7c4kFre8QJyPD3-A",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1122.1427689597338,
      "y": 657.3267882330041,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 278.019775390625,
      "height": 125,
      "seed": 1058178272,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721750366371,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "client-1 -> C\nconn-3 -> {self: client-1,\ncp: client-2, cp_conn: conn-1}\nchan-4 -> {connHops: conn-3,\ncp: chan-4}",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "client-1 -> C\nconn-3 -> {self: client-1,\ncp: client-2, cp_conn: conn-1}\nchan-4 -> {connHops: conn-3,\ncp: chan-4}",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "arrow",
      "version": 171,
      "versionNonce": 1577314838,
      "index": "aD",
      "isDeleted": false,
      "id": "uQ3uhCc3hBNYBzhXURfgS",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 767.0798849870346,
      "y": 339.53714483330486,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 304.7833962629654,
      "height": 0.38949285548875423,
      "seed": 1929654496,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1721750252410,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "Yd8PZmyx4ecAoEJeTN0gU",
        "gap": 13.171875,
        "focus": -0.0449448346714202
      },
      "endBinding": {
        "elementId": "39YVRup8859-A1EafFRqL",
        "gap": 12.5625,
        "focus": 0.062414350761616284
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          304.7833962629654,
          -0.38949285548875423
        ]
      ]
    },
    {
      "type": "arrow",
      "version": 196,
      "versionNonce": 823272726,
      "index": "aF",
      "isDeleted": false,
      "id": "QN3CYjHvpZvUKeBl7mcVy",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 770.58984375,
      "y": 752.9265113664123,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 304.46484375,
      "height": 395.3092724618856,
      "seed": 1974412512,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1721750252410,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "uCslPrAM4Djw5ExOq0aUN",
        "gap": 15.796875,
        "focus": 0.790638045498287
      },
      "endBinding": {
        "elementId": "39YVRup8859-A1EafFRqL",
        "gap": 9.37109375,
        "focus": 0.6762880872333856
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          304.46484375,
          -395.3092724618856
        ]
      ]
    },
    {
      "type": "arrow",
      "version": 363,
      "versionNonce": 1880119190,
      "index": "aG",
      "isDeleted": false,
      "id": "M9Ev5BXiStMWc7AiEqYoG",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1068.80078125,
      "y": 396.64863537568556,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 283.890625,
      "height": 369.55917136427354,
      "seed": 748094752,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1721750252410,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "39YVRup8859-A1EafFRqL",
        "gap": 15.625,
        "focus": 0.5855959439003082
      },
      "endBinding": {
        "elementId": "uCslPrAM4Djw5ExOq0aUN",
        "gap": 30.1171875,
        "focus": 0.8788301668262039
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -283.890625,
          369.55917136427354
        ]
      ]
    },
    {
      "type": "arrow",
      "version": 206,
      "versionNonce": 1331283530,
      "index": "aI",
      "isDeleted": false,
      "id": "H3lGRledKiu-WVXy3772m",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1072.14453125,
      "y": 739.1045613784454,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 243.84375,
      "height": 10.661063621554604,
      "seed": 1858638048,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1721750276225,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "TKzr0vHyE4XWHulEuVtAT",
        "gap": 18.3359375,
        "focus": 0.0031785684933362287
      },
      "endBinding": null,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -243.84375,
          10.661063621554604
        ]
      ]
    },
    {
      "type": "text",
      "version": 1096,
      "versionNonce": 1015133408,
      "index": "aJ",
      "isDeleted": false,
      "id": "Ug5AA066r4v83c6qyYzA6",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 430.29296875,
      "y": 895.41015625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 800.4794311523438,
      "height": 400,
      "seed": 127919392,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721663260385,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "SendPacket from Chain A: Not receivable by Chain B\n\nSendPacket from Chain B: Receivable by Chain C\nReceivable by Chain A. This token is double spent into a misconfigured chain\nSending from A back to B will fail. Thus it is only redeemable by Chain C\n\nSendPacket from Chain C: Receivable by Chain B\nReceivable by Chain D. This token is double spent into a misconfigured chain.\nSending from D back to C will fail. Thus it is redeemable only by Chain B\n\nOther packet flow messages passing will require coincidences.\nSuppose Chain A and Chain C sends the exact same SendPacket\nThe chain C packet will be receivable by Chain B which writes an ACK\nBoth chain C and chain A will acknowledge the packet as if it is meant for them\nbut only chain C acknowledgement logic is valid\n",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "SendPacket from Chain A: Not receivable by Chain B\n\nSendPacket from Chain B: Receivable by Chain C\nReceivable by Chain A. This token is double spent into a misconfigured chain\nSending from A back to B will fail. Thus it is only redeemable by Chain C\n\nSendPacket from Chain C: Receivable by Chain B\nReceivable by Chain D. This token is double spent into a misconfigured chain.\nSending from D back to C will fail. Thus it is redeemable only by Chain B\n\nOther packet flow messages passing will require coincidences.\nSuppose Chain A and Chain C sends the exact same SendPacket\nThe chain C packet will be receivable by Chain B which writes an ACK\nBoth chain C and chain A will acknowledge the packet as if it is meant for them\nbut only chain C acknowledgement logic is valid\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 1052,
      "versionNonce": 1370680544,
      "index": "aK",
      "isDeleted": false,
      "id": "JAht8WVr_9XdR-kX-m8XY",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1776.2769145021512,
      "y": 253.02825896369697,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 688.41943359375,
      "height": 450,
      "seed": 1676632288,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1721749920023,
      "link": null,
      "locked": false,
      "fontSize": 20,
      "fontFamily": 1,
      "text": "What does this require?\nCoincidence of identifier for clients. Chain A and Chain C\nuse same client identifier for chain B\nChain D and chain B use the same client identifier for chain C\nCoincidence of identifiers in connection identifiers\nCoincidence of timing in the Connection Handshake. e..g. B-C connection\nhandshake cannot be complete before chain A starts handshake\nCoincidence of identifiers in the channel identifiers\nCoincidence of timing in the Channel Handshake\n\nFull packet flow is only possible on valid connection/channel\nPartial flows possible only on misconfigured chains\nFull packet flow only possible on misconfigured chains if there\nis simultaneously a coincidence of valid packet flow\n\nChain B and Chain C are never confused about who they are\ntalking to.\nTheir respective escrow accounts are safe.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "What does this require?\nCoincidence of identifier for clients. Chain A and Chain C\nuse same client identifier for chain B\nChain D and chain B use the same client identifier for chain C\nCoincidence of identifiers in connection identifiers\nCoincidence of timing in the Connection Handshake. e..g. B-C connection\nhandshake cannot be complete before chain A starts handshake\nCoincidence of identifiers in the channel identifiers\nCoincidence of timing in the Channel Handshake\n\nFull packet flow is only possible on valid connection/channel\nPartial flows possible only on misconfigured chains\nFull packet flow only possible on misconfigured chains if there\nis simultaneously a coincidence of valid packet flow\n\nChain B and Chain C are never confused about who they are\ntalking to.\nTheir respective escrow accounts are safe.",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "3IJ-NJxV8lB6HabKu1plS",
      "type": "text",
      "x": 417.7445902901098,
      "y": 105.40244979747675,
      "width": 749.9193115234375,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aL",
      "roundness": null,
      "seed": 1019693834,
      "version": 182,
      "versionNonce": 1387079766,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1721750596473,
      "link": null,
      "locked": false,
      "text": "Potential consequences of removing client validation in connection handshake",
      "fontSize": 20,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Potential consequences of removing client validation in connection handshake",
      "autoResize": true,
      "lineHeight": 1.25
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}